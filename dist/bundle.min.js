var swtfFmt=function(t){"use strict";var e={};Object.defineProperty(e,"__esModule",{value:!0});const n=["\t"," "],s=/ (\[[^\[\]]*\])+\n$/,r=/\[[^\[\]]*\]/g,u=/^[^\[\]]*: /;function l(t){return(t=t.trim()).match(r).map(((t,e)=>{let n=t.slice(1,t.length-1);const s=n.match(u);let r=null;return s&&(r=s[0].slice(0,s[0].length-2),n=n.slice(r.length+2)),{name:r,index:e,value:n.includes(",")?n.split(","):n}}))}function a(t){let e=0;const r=n.find((e=>t.startsWith(e))),u=new RegExp(`^${r}+`);if(r&&(e=t.match(u).pop().length),!(t=`${t.trim()}\n`).startsWith("- "))return null;const a={text:"",attributes:[],subTasks:[],level:e},i=t.match(s)?t.match(s)[0].trim():null;i&&(a.attributes=l(i));const c=i?s.exec(t).index:t.length-1;return a.text=t.slice(0,c).slice("- ".length),a}e.parseAttributes=l;var i=e.parseSwtf=function(t){const e=[],n=[];return t.split("\n").forEach((t=>{const s=a(`${t}\n`);if(!s)return;let r=n.pop();for(;r&&r.level>=s.level;)r=n.pop();r?(r.subTasks.push(s),n.push(r)):(s.level=0,e.push(s)),n.push(s)})),e};function c(t){return`[${t.name?t.name+": ":""}${t.value}]`}function o(t){const e=t.attributes.length?` ${t.attributes.sort(((t,e)=>t.index>e.index?1:-1)).map((t=>c(t))).join("")}`:"",n=t.subTasks.map((t=>o(t))).join("");return`${"    ".repeat(t.level)}- ${t.text.trim()}${e}\n${n}`}function p(t){return t.map((t=>o(t))).join("")}function f(t,e){const n=Object.assign({},t);return n.level=e+1,n.subTasks=n.subTasks.map((t=>f(t,n.level))),n}return e.parseTask=a,t.attributeToSwtf=c,t.formatSwtf=function(t){return p(i(t).map((t=>f(t,-1))))},t.taskToSwtf=o,t.tasksToSwtf=p,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
